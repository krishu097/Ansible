---
# Toggle this if you want names like eks-cluster-role-uat-edfx
use_suffix: false

# Effective role names (unsuffixed by default)
eks_cluster_role_name: >-
  {{ (use_suffix | bool)
      | ternary('eks-cluster-role-' ~ env_name, 'eks-cluster-role') }}

eks_nodegroup_role_name: >-
  {{ (use_suffix | bool)
      | ternary('eks-nodegroup-role-' ~ env_name, 'eks-nodegroup-role') }}

# Managed policies
eks_cluster_managed_policies:
  - "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
  - "arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"

eks_nodegroup_managed_policies:
  - "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
  - "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"
  - "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
  - "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore" # for Session Manager

# Trust policies
eks_cluster_trust_policy:
  Version: "2012-10-17"
  Statement:
    - Effect: "Allow"
      Principal:
        Service: "eks.amazonaws.com"
      Action: "sts:AssumeRole"

eks_nodegroup_trust_policy:
  Version: "2012-10-17"
  Statement:
    - Effect: "Allow"
      Principal:
        Service:
          - "ec2.amazonaws.com"
      Action: "sts:AssumeRole"
